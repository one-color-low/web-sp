# 説明
Web Secret Place
Web上の秘密基地的なMMOを実現するアプリ

# 実装

## アイデア

### クライアント側
二つのプロセスが独立して動く形
1. キー入力を常にWatchして、送信
2. 空間を受信して、レンダリング

### サーバー側
1. キー入力を受信して、空間を更新
2. 空間をブロードキャスト

### 全体
1. (C)ユーザがURLにアクセスする
2. (C)キー入力プロセスがスタート・コネクション確立
3. (C)レンダリングプロセスがスタート・初期空間をレンダリング
4. (C)キー入力を送信
5. (S)キー入力を受信
6. (S)空間を更新
7. (S)空間をブロードキャスト
8. (C)空間を受信
9. (C)空間をレンダリング
10. 4.に戻る

## ツール
- Python
- Flask
- JavaScript
- Three.js
- 空間メモリorDB
- ブロードキャストする何か
- 入力を送信する何か


# To Do
1. **Service Workerで二つのプロセスを独立させる**
    - キー入力をサーバーで受け取って、サーバー側でキー入力の情報をdumpしてみる -> done!
    - indexにアクセスすると、二つのプロセスを動かすjsをゲットするように -> 不要？
    - なので、まずはFlaskのhttpサーバ的なもの -> done!
2. 空間のブロードキャスト・レンダリング
    - pushが必要になる


# docker起動コマンド
```bash
docker run -it --rm -p 80:8080 xxxxxx

python app.py
```

この状態で、`localhost`を開けばいい。

## 解説
- `-it`: 起動したコンテナに入る、という意味
- `--rm`: 残っているコンテナを削除する、という意味
- `-p 80:8080`: ローカルの80番ポートとコンテナの8080ポートをつなげる、という意味
